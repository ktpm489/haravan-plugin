<html>

<body>
  <a href="#" class="close" onclick="closeFunction()"></a>
  <h1>Kết quả da của bạn</h1>
  <div class="myimgContainer" id="myimgContainer">
  <img id="myimgresult"/>
  <div id="spotContainer" class="divContainer"> </div>
  <div id="blackHeadContainer" class="divContainer"> </div>
  <div id="pimpleContainer" class="divContainer"> </div>
  <div id="acneContainer" class="divContainer"> </div>
  </div>
  <p id="generalResult"></p>
  <p id="specialResult"></p>
  <p id="generalConclusion"></p>
  <p id="specialConclusion"></p>

<script type="text/javascript" src="./js/jquery-1.10.2.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/ktpm489/admin-demo/config2.js"></script>
<script type="text/javascript" src="./js/config.js"></script>
<script type="text/javascript" src="./js/renderData.js"></script>
<script>
  // try{
  //   console.log('data1', MrFrontendModule.getTitle())
  // }catch(e){
  //   console.log('e',e)
  // }
  var xhr = new XMLHttpRequest();
  xhr.onreadystatechange = process;
  xhr.open("GET", "https://cdn.jsdelivr.net/gh/ktpm489/admin-demo/config3.js", true);
  xhr.send();

  function process() {
    if (xhr.readyState == 4) {
      // var resp = JSON.parse(xhr.responseText);

      // resp now has the text and you can process it.
      console.log(JSON.parse(xhr.responseText));
    }
  }

  // Request getData from AI Skin
  var xhrSkin = new XMLHttpRequest();
  xhrSkin.onreadystatechange = processSkin;
  xhrSkin.open("GET", "https://ancient-bastion-76504.herokuapp.com/api/userskin/5f47b3338f1bbb0aebd0d47d", true);
  xhrSkin.send();

  function processSkin() {
    if (xhrSkin.readyState == 4) {
      let res = xhrSkin.responseText
      let dataJSON = JSON.parse(res)
      if (dataJSON !== null) {
        renderData(dataJSON.user.facedata.generalResult, 'generalResult')
        renderData(dataJSON.user.facedata.specialResult, 'specialResult')
        renderImg(dataJSON.user.facedata.image_info.url)
        processSpecialResult(dataJSON.user.facedata)
      }
      
    }
  }




  // var fruits =
  // {
  //   queue:
  //     [
  //       { id: 0, name: "Banana" },
  //       { id: 1, name: "Orange" },
  //       { id: 2, name: "Apple" },
  //       { id: 3, name: "Mango" }
  //     ]
  // };

  // localStorage.setItem('fruits', JSON.stringify(fruits));

  // outputIt();

  // function outputIt() {
  //   var restoredFruits = JSON.parse(localStorage.getItem('fruits'));
  //   var outputs = "";
  //   for (var i = 0; i < restoredFruits.queue.length; i++) {
  //     outputs += '<div id="' + restoredFruits.queue[i].id + '">' + restoredFruits.queue[i].id + ':' + restoredFruits.queue[i].name + '</div>';
  //   }
  //   document.getElementById("demo").innerHTML = outputs;
  // }
  // function popIt() {
  //   var restoredFruits = JSON.parse(localStorage.getItem('fruits'));
  //   restoredFruits.queue.shift();
  //   localStorage.setItem('fruits', JSON.stringify(restoredFruits));
  //   outputIt();
  // }
  // function pushIt() {
  //   var restoredFruits = JSON.parse(localStorage.getItem('fruits'));

  //   restoredFruits.queue.push({
  //     id: Math.floor(Math.random() * (100 - 1 + 1)) + 1,
  //     name: $('input').val()
  //   });
  //   localStorage.setItem('fruits', JSON.stringify(restoredFruits));
  //   outputIt();
  // }
</script>
<script>
  function myFunction() {
    var checkBox = document.getElementById("myCheck");
    var text = document.getElementById("text");
    if (checkBox.checked == true) {
      text.style.display = "block";
    } else {
      text.style.display = "none";
    }
  }
</script>
<script>
 
</script>
</body> 
</html>